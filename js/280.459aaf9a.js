"use strict";(self["webpackChunktake_out"]=self["webpackChunktake_out"]||[]).push([[280],{1826:function(t,e,n){n.d(e,{Z:function(){return u}});var a=n(3649),i=(n(4165),n(3396)),o=n(7139);const l={class:"header"};function d(t,e,n,d,s,c){const r=a.J;return(0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(r,{name:"arrow-left"}),(0,i._)("div",null,(0,o.zw)(n.title),1)])}var s={props:["title"]},c=n(89);const r=(0,c.Z)(s,[["render",d]]);var u=r},6059:function(t,e,n){n.r(e),n.d(e,{default:function(){return It}});var a=n(2558),i=(n(1958),n(2042),n(5904)),o=(n(368),n(6742),n(2939),n(1452),n(2191),n(1404)),l=n(3396),d=n(610),s=n(2220),c=n(5323),r=n(5291),u=n(253),m=n(6014),v=n(3649),g=n(3068);const[p,f]=(0,d["do"])("action-bar-icon"),h=(0,s.l7)({},m.g2,{dot:Boolean,text:String,icon:String,color:String,badge:c.Or,iconClass:c.Vg,badgeProps:Object,iconPrefix:String});var b=(0,l.aZ)({name:p,props:h,setup(t,{slots:e}){const n=(0,m.yj)();(0,u.NB)(r.F);const a=()=>{const{dot:n,badge:a,icon:i,color:o,iconClass:d,badgeProps:s,iconPrefix:c}=t;return e.icon?(0,l.Wm)(g.C,(0,l.dG)({dot:n,class:f("icon"),content:a},s),{default:e.icon}):(0,l.Wm)(v.J,{tag:"div",dot:n,name:i,badge:a,color:o,class:[f("icon"),d],badgeProps:s,classPrefix:c},null)};return()=>(0,l.Wm)("div",{role:"button",class:f(),tabindex:0,onClick:n},[a(),e.default?e.default():t.text])}});const x=(0,o.n)(b);var C=n(2727),k=(n(3533),n(234)),I=(n(5258),n(8190)),w=n(7139);const A=t=>((0,l.dD)("data-v-b332d9f0"),t=t(),(0,l.Cn)(),t),y={class:"storeDetails"},W={class:"content"},_=A((()=>(0,l._)("div",{class:"img"},null,-1))),D={class:"foodSort"},B={class:"name"},S=["src"],Z={class:"sort"};function j(t,e,n,o,d,s){const c=I.Z,r=(0,l.up)("FoodList"),u=k.O,m=C.m,v=x,g=i.Z,p=a.o;return(0,l.wg)(),(0,l.iD)("div",y,[(0,l.Wm)(c,{title:"店铺"}),(0,l._)("div",W,[_,(0,l._)("div",D,[(0,l._)("div",B,[(0,l.Uk)((0,w.zw)(t.title)+" ",1),(0,l._)("img",{src:t.img,class:"store-img"},null,8,S)]),(0,l._)("div",Z,[(0,l.Wm)(m,{color:"#ffc400"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.storeData,((t,e)=>((0,l.wg)(),(0,l.j4)(u,{title:t.name},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{index:e,foodData:t.data},null,8,["index","foodData"])])),_:2},1032,["title"])))),256))])),_:1})])])]),(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v,{icon:"chat-o",text:"客服"}),(0,l.Wm)(v,{icon:"cart-o",text:"购物车",badge:o.store.state.cartList.length,onClick:o.goCart},null,8,["badge","onClick"]),(0,l.Wm)(g,{type:"warning",text:"加入购物车",onClick:o.handleAddCart},null,8,["onClick"]),(0,l.Wm)(g,{type:"danger",text:"立即购买",onClick:o.goBuy},null,8,["onClick"])])),_:1})])}n(7658);var F=n(4870),E=n(65),P=n(1826),V=n(6048);const[N,z]=(0,d["do"])("sidebar"),J=Symbol(N),O={modelValue:(0,c.SI)(0)};var L=(0,l.aZ)({name:N,props:O,emits:["change","update:modelValue"],setup(t,{emit:e,slots:n}){const{linkChildren:a}=(0,u.$E)(J),i=()=>+t.modelValue,o=t=>{t!==i()&&(e("update:modelValue",t),e("change",t))};return a({getActive:i,setActive:o}),()=>{var t;return(0,l.Wm)("div",{role:"tablist",class:z()},[null==(t=n.default)?void 0:t.call(n)])}}});const H=(0,o.n)(L);const[K,U]=(0,d["do"])("sidebar-item"),G=(0,s.l7)({},m.g2,{dot:Boolean,title:String,badge:c.Or,disabled:Boolean,badgeProps:Object});var q=(0,l.aZ)({name:K,props:G,emits:["click"],setup(t,{emit:e,slots:n}){const a=(0,m.yj)(),{parent:i,index:o}=(0,u.NB)(J);if(!i)return void 0;const d=()=>{t.disabled||(e("click",o.value),i.setActive(o.value),a())};return()=>{const{dot:e,badge:a,title:s,disabled:c}=t,r=o.value===i.getActive();return(0,l.Wm)("div",{role:"tab",class:U({select:r,disabled:c}),tabindex:c?void 0:0,"aria-selected":r,onClick:d},[(0,l.Wm)(g.C,(0,l.dG)({dot:e,class:U("text"),content:a},t.badgeProps),{default:()=>[n.title?n.title():s]})])}}});const R=(0,o.n)(q);const[Y,$]=(0,d["do"])("tree-select"),Q={max:(0,c.SI)(1/0),items:(0,c.Ce)(),height:(0,c.SI)(300),selectedIcon:(0,c.SQ)("success"),mainActiveIndex:(0,c.SI)(0),activeId:{type:[Number,String,Array],default:0}};var T=(0,l.aZ)({name:Y,props:Q,emits:["click-nav","click-item","update:activeId","update:mainActiveIndex"],setup(t,{emit:e,slots:n}){const a=e=>Array.isArray(t.activeId)?t.activeId.includes(e):t.activeId===e,i=n=>{const i=()=>{if(n.disabled)return;let a;if(Array.isArray(t.activeId)){a=t.activeId.slice();const e=a.indexOf(n.id);-1!==e?a.splice(e,1):a.length<t.max&&a.push(n.id)}else a=n.id;e("update:activeId",a),e("click-item",n)};return(0,l.Wm)("div",{key:n.id,class:["van-ellipsis",$("item",{active:a(n.id),disabled:n.disabled})],onClick:i},[n.text,a(n.id)&&(0,l.Wm)(v.J,{name:t.selectedIcon,class:$("selected")},null)])},o=t=>{e("update:mainActiveIndex",t)},d=t=>e("click-nav",t),s=()=>{const e=t.items.map((t=>(0,l.Wm)(R,{dot:t.dot,title:t.text,badge:t.badge,class:[$("nav-item"),t.className],disabled:t.disabled,onClick:d},null)));return(0,l.Wm)(H,{class:$("nav"),modelValue:t.mainActiveIndex,onChange:o},{default:()=>[e]})},c=()=>{if(n.content)return n.content();const e=t.items[+t.mainActiveIndex]||{};return e.children?e.children.map(i):void 0};return()=>(0,l.Wm)("div",{class:$(),style:{height:(0,V.Nn)(t.height)}},[s(),(0,l.Wm)("div",{class:$("content")},[c()])])}});const M=(0,o.n)(T);const X={key:0,class:"food-list"},tt={class:"item-bg"},et={key:1};function nt(t,e,n,a,i,o){const d=(0,l.up)("food-list-item"),s=M;return 0===n.index?((0,l.wg)(),(0,l.iD)("div",X,[(0,l.Wm)(s,{"main-active-index":t.activeIndex,"onUpdate:mainActiveIndex":e[0]||(e[0]=e=>t.activeIndex=e),height:"55vw",items:t.items,onClickNav:a.navClick},{content:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.subItem,((t,e)=>((0,l.wg)(),(0,l.iD)("div",tt,[(0,l.Wm)(d,{item:t,handleAdd:a.handleAdd,handleChange:a.handleChange},null,8,["item","handleAdd","handleChange"])])))),256))])),_:1},8,["main-active-index","items","onClickNav"])])):((0,l.wg)(),(0,l.iD)("div",et,(0,w.zw)(n.foodData.content),1))}var at=n(598);n(3526),n(4165);const it={class:"content-item"},ot={class:"left"},lt=["src"],dt={class:"text"},st={class:"price"};function ct(t,e,n,a,i,o){const d=(0,l.up)("dic"),s=v.J,c=at.v;return(0,l.wg)(),(0,l.iD)("div",it,[(0,l._)("div",ot,[(0,l._)("img",{src:n.item.pic},null,8,lt),(0,l._)("div",dt,[(0,l.Wm)(d,{class:"title"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,w.zw)(n.item.title),1)])),_:1}),n.item.add?((0,l.wg)(),(0,l.j4)(s,{key:0,name:"add-o",onClick:e[0]||(e[0]=t=>n.handleAdd(n.item.id))})):((0,l.wg)(),(0,l.j4)(c,{key:1,modelValue:n.item.num,"onUpdate:modelValue":e[1]||(e[1]=t=>n.item.num=t),onChange:n.handleChange,name:n.item.id},null,8,["modelValue","onChange","name"]))])]),(0,l._)("div",st,"￥"+(0,w.zw)(n.item.price),1)])}var rt={props:["item","handleAdd","handleChange"]},ut=n(89);const mt=(0,ut.Z)(rt,[["render",ct],["__scopeId","data-v-9163d280"]]);var vt=mt,gt=(n(3559),{props:["index","foodData"],components:{FoodListItem:vt},setup(t){let e=(0,F.qj)({activeIndex:0,items:[],subItem:[]});const n=()=>{let n=[];t.foodData?.items?.forEach(((t,a)=>{n.push({text:t.text}),e.activeIndex===a&&(e.subItem=t.children)})),e.items=n};n();const a=t=>{e.activeIndex=t,n()},i=t=>{e.subItem.forEach(((e,n)=>{e.id===t&&(e.add=!1,e.num+=1)}))},o=(t,n)=>{e.subItem.forEach((e=>{e.id===n.name&&(e.num=t)}))};return{...(0,F.BK)(e),navClick:a,handleAdd:i,handleChange:o}}});const pt=(0,ut.Z)(gt,[["render",nt],["__scopeId","data-v-2fcc9300"]]);var ft=pt,ht=n(2483),bt=n(9733),xt=n(5921),Ct={components:{Header:P.Z,FoodList:ft},setup(){let t=(0,E.oR)(),e=(0,ht.tv)(),n=(0,F.qj)({title:"鱼拿酸菜鱼",img:"https://img1.baidu.com/it/u=1599947592,1695977044&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=440",storeData:[]});const a=()=>{(0,xt.O)().then((t=>{n.storeData=t}))};(0,l.bv)((()=>{a()}));const i=e=>{const a=t.state.cartList||[];n.storeData.forEach((t=>{t.data.items?.forEach((t=>{t.children.forEach((t=>{t.num>0&&a.push(t)}))}))})),0!==a.length?(t.commit("ADDCART",a),"buy"===e&&o()):(0,bt.F)("请选择商品")},o=()=>{e.push("/cart")},d=()=>{i("buy")};return{handleAddCart:i,...(0,F.BK)(n),store:t,goCart:o,goBuy:d}}};const kt=(0,ut.Z)(Ct,[["render",j],["__scopeId","data-v-b332d9f0"]]);var It=kt},5904:function(t,e,n){n.d(e,{Z:function(){return f}});var a=n(1404),i=n(3396),o=n(610),l=n(2220),d=n(5291),s=n(253),c=n(3444),r=n(6014),u=n(9545);const[m,v]=(0,o["do"])("action-bar-button"),g=(0,l.l7)({},r.g2,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var p=(0,i.aZ)({name:m,props:g,setup(t,{slots:e}){const n=(0,r.yj)(),{parent:a,index:o}=(0,s.NB)(d.F),l=(0,i.Fl)((()=>{if(a){const t=a.children[o.value-1];return!(t&&"isButton"in t)}})),m=(0,i.Fl)((()=>{if(a){const t=a.children[o.value+1];return!(t&&"isButton"in t)}}));return(0,c.F)({isButton:!0}),()=>{const{type:a,icon:o,text:d,color:s,loading:c,disabled:r}=t;return(0,i.Wm)(u.z,{class:v([a,{last:m.value,first:l.value}]),size:"large",type:a,icon:o,color:s,loading:c,disabled:r,onClick:n},{default:()=>[e.default?e.default():d]})}}});const f=(0,a.n)(p)},5291:function(t,e,n){n.d(e,{F:function(){return u},Z:function(){return v}});var a=n(3396),i=n(4870),o=n(610),l=n(5323),d=n(253),s=n(4373);const[c,r]=(0,o["do"])("action-bar"),u=Symbol(c),m={placeholder:Boolean,safeAreaInsetBottom:l.J5};var v=(0,a.aZ)({name:c,props:m,setup(t,{slots:e}){const n=(0,i.iH)(),o=(0,s.J)(n,r),{linkChildren:l}=(0,d.$E)(u);l();const c=()=>{var i;return(0,a.Wm)("div",{ref:n,class:[r(),{"van-safe-area-bottom":t.safeAreaInsetBottom}]},[null==(i=e.default)?void 0:i.call(e)])};return()=>t.placeholder?o(c):c()}})},2558:function(t,e,n){n.d(e,{o:function(){return o}});var a=n(1404),i=n(5291);const o=(0,a.n)(i.Z)}}]);
//# sourceMappingURL=280.459aaf9a.js.map